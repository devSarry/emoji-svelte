<script lang="ts">
	import * as Popover from '$lib/components/ui/popover';
	import { ScrollArea } from '$lib/components/ui/scroll-area';
	import { emojiStore } from '@/emojistore';

	import { pb } from '$lib/pocketbase/client';

	let emojis = [
		'âœŒ',
		'ðŸ˜‚',
		'ðŸ˜',
		'ðŸ˜',
		'ðŸ˜±',
		'ðŸ‘‰',
		'ðŸ™Œ',
		'ðŸ»',
		'ðŸ”¥',
		'ðŸŒˆ',
		'â˜€',
		'ðŸŽˆ',
		'ðŸŒ¹',
		'ðŸ’„',
		'ðŸŽ€',
		'âš½',
		'ðŸŽ¾',
		'ðŸ',
		'ðŸ˜¡',
		'ðŸ‘¿',
		'ðŸ»',
		'ðŸ¶',
		'ðŸ¬',
		'ðŸŸ',
		'ðŸ€',
		'ðŸ‘€',
		'ðŸš—',
		'ðŸŽ',
		'ðŸ’',
		'ðŸ’™',
		'ðŸ‘Œ',
		'â¤',
		'ðŸ˜',
		'ðŸ˜‰',
		'ðŸ˜“',
		'ðŸ˜³',
		'ðŸ’ª',
		'ðŸ’©',
		'ðŸ¸',
		'ðŸ”‘',
		'ðŸ’–',
		'ðŸŒŸ',
		'ðŸŽ‰',
		'ðŸŒº',
		'ðŸŽ¶',
		'ðŸ‘ ',
		'ðŸˆ',
		'âš¾',
		'ðŸ†',
		'ðŸ‘½',
		'ðŸ’€',
		'ðŸµ',
		'ðŸ®',
		'ðŸ©',
		'ðŸŽ',
		'ðŸ’£',
		'ðŸ‘ƒ',
		'ðŸ‘‚',
		'ðŸ“',
		'ðŸ’˜',
		'ðŸ’œ',
		'ðŸ‘Š',
		'ðŸ’‹',
		'ðŸ˜˜',
		'ðŸ˜œ',
		'ðŸ˜µ',
		'ðŸ™',
		'ðŸ‘‹',
		'ðŸš½',
		'ðŸ’ƒ',
		'ðŸ’Ž',
		'ðŸš€',
		'ðŸŒ™',
		'ðŸŽ',
		'â›„',
		'ðŸŒŠ',
		'â›µ',
		'ðŸ€',
		'ðŸŽ±',
		'ðŸ’°',
		'ðŸ‘¶',
		'ðŸ‘¸',
		'ðŸ°',
		'ðŸ·',
		'ðŸ',
		'ðŸ«',
		'ðŸ”«',
		'ðŸ‘„',
		'ðŸš²',
		'ðŸ‰',
		'ðŸ’›',
		'ðŸ’š'
	];

	let state = {
		emoji: 'null'
	};

	async function selectEmoji(emoji: string) {
		state.emoji = emoji;
		console.log("Emoji selected: ", emoji);
		emojiStore.update((s) => {
			return [emoji, ...s];
		});
	}
</script>

<Popover.Root>
	<Popover.Trigger>
		<button class="btn">Select Emoji</button>
	</Popover.Trigger>
	<Popover.Content class="w-80">
		<ScrollArea class="h-[200px] rounded-md border p-4">
			<div class="grid grid-cols-5 gap-2">
				{#each emojis as emoji}
					<button class="btn text-xl" on:click={() => selectEmoji(emoji)}>{emoji}</button>
				{/each}
			</div>
		</ScrollArea>
	</Popover.Content>
</Popover.Root>
