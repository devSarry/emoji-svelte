<script lang="ts">
	import * as Popover from '$lib/components/ui/popover';
	import { ScrollArea } from '$lib/components/ui/scroll-area';

   import { pb } from '$lib/pocketbase/client';

    const getEmojis = async () => {
        const record = await pb.collection('emojis').getList();
        return emojis;
    }
   

	let emojis = [
		'âœŒ',
		'ğŸ˜‚',
		'ğŸ˜',
		'ğŸ˜',
		'ğŸ˜±',
		'ğŸ‘‰',
		'ğŸ™Œ',
		'ğŸ»',
		'ğŸ”¥',
		'ğŸŒˆ',
		'â˜€',
		'ğŸˆ',
		'ğŸŒ¹',
		'ğŸ’„',
		'ğŸ€',
		'âš½',
		'ğŸ¾',
		'ğŸ',
		'ğŸ˜¡',
		'ğŸ‘¿',
		'ğŸ»',
		'ğŸ¶',
		'ğŸ¬',
		'ğŸŸ',
		'ğŸ€',
		'ğŸ‘€',
		'ğŸš—',
		'ğŸ',
		'ğŸ’',
		'ğŸ’™',
		'ğŸ‘Œ',
		'â¤',
		'ğŸ˜',
		'ğŸ˜‰',
		'ğŸ˜“',
		'ğŸ˜³',
		'ğŸ’ª',
		'ğŸ’©',
		'ğŸ¸',
		'ğŸ”‘',
		'ğŸ’–',
		'ğŸŒŸ',
		'ğŸ‰',
		'ğŸŒº',
		'ğŸ¶',
		'ğŸ‘ ',
		'ğŸˆ',
		'âš¾',
		'ğŸ†',
		'ğŸ‘½',
		'ğŸ’€',
		'ğŸµ',
		'ğŸ®',
		'ğŸ©',
		'ğŸ',
		'ğŸ’£',
		'ğŸ‘ƒ',
		'ğŸ‘‚',
		'ğŸ“',
		'ğŸ’˜',
		'ğŸ’œ',
		'ğŸ‘Š',
		'ğŸ’‹',
		'ğŸ˜˜',
		'ğŸ˜œ',
		'ğŸ˜µ',
		'ğŸ™',
		'ğŸ‘‹',
		'ğŸš½',
		'ğŸ’ƒ',
		'ğŸ’',
		'ğŸš€',
		'ğŸŒ™',
		'ğŸ',
		'â›„',
		'ğŸŒŠ',
		'â›µ',
		'ğŸ€',
		'ğŸ±',
		'ğŸ’°',
		'ğŸ‘¶',
		'ğŸ‘¸',
		'ğŸ°',
		'ğŸ·',
		'ğŸ',
		'ğŸ«',
		'ğŸ”«',
		'ğŸ‘„',
		'ğŸš²',
		'ğŸ‰',
		'ğŸ’›',
		'ğŸ’š'
	];

	let state = {
		emoji: 'null'
	};

	async function selectEmoji(emoji: string) {
		state.emoji = emoji;
        await pb.collection('emojis').create({emoji: emoji});
	}
</script>

<Popover.Root>
	<Popover.Trigger>
		<button class="btn">Select Emoji</button>
	</Popover.Trigger>
	<Popover.Content class="w-80">
		<ScrollArea class="h-[200px] rounded-md border p-4">
			<div class="grid grid-cols-5 gap-2">
				{#each emojis as emoji}
					<button class="btn text-xl" on:click={() => selectEmoji(emoji)}>{emoji}</button>
				{/each}
			</div>
		</ScrollArea>
	</Popover.Content>
</Popover.Root>
